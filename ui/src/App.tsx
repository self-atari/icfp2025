import { useState } from "react";
import { useLocalStorage } from "usehooks-ts";
import { Hex, type HexData } from "./Hex";

interface State {
  hexes: HexData[];
}

const blankHex: HexData = {
  edgeLabels: ["", "", "", "", "", ""],
  centerLabel: "",
  disabled: true,
};

function App() {
  const [state, setState, removeState] = useLocalStorage<State>(
    "icfp2025--state",
    JSON.parse(`
{"hexes":[{"edgeLabels":["","","","A2","",""],"centerLabel":"A1","disabled":false},{"edgeLabels":["","C","","","",""],"centerLabel":"A2","disabled":false},{"edgeLabels":["","","","A3","B2",""],"centerLabel":"B1","disabled":false},{"edgeLabels":["","","","","","C"],"centerLabel":"B2","disabled":false},{"edgeLabels":["B5","B6","A6","","C","B1"],"centerLabel":"C","disabled":false},{"edgeLabels":["","","","","B4",""],"centerLabel":"D","disabled":false},{"edgeLabels":["","","","","A4",""],"centerLabel":"A3","disabled":false},{"edgeLabels":["","A5","","","",""],"centerLabel":"A4","disabled":false},{"edgeLabels":["","","B3","","",""],"centerLabel":"A5","disabled":false},{"edgeLabels":["","","","D","",""],"centerLabel":"B3","disabled":false},{"edgeLabels":["","","","","","C"],"centerLabel":"B4","disabled":false},{"edgeLabels":["","","","","","C"],"centerLabel":"B5","disabled":false},{"edgeLabels":["","","","A7","",""],"centerLabel":"A6","disabled":false},{"edgeLabels":["C","","","","",""],"centerLabel":"A7","disabled":false},{"edgeLabels":["","","","","",""],"centerLabel":"B6","disabled":false},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true},{"edgeLabels":["","","","","",""],"centerLabel":"","disabled":true}]}



`)

  );

  return (
    <>
      {/* <button
        onClick={() => {
          setState({ ...state, hexes: [...state.hexes, blankHex] });
        }}
      >
        Add Hex
      </button> */}

      {/* <button
        onClick={() => {
          removeState();
          location.reload();
        }}
      >
        Reset storage
      </button> */}
     <textarea>
      {JSON.stringify(state)}
      </textarea>

      <div className="hexes">
        {state.hexes.map((hex, index) => (
          <Hex
            key={index}
            data={hex}
            onChange={(newHex) => {
              const newHexes = [...state.hexes];
              newHexes[index] = newHex;
              setState({ ...state, hexes: newHexes });
            }}
            onRemove={() => {
              const newHexes = state.hexes.filter((_, i) => i !== index);
              setState({ ...state, hexes: newHexes });
            }}
          ></Hex>
        ))}
        {/* <button */}
        {/* // <Hex data={blankHex} onChange={() => {}}></Hex> */}
      </div>
    </>
  );
}

export default App;
